const UDP = require("dgram");
const client = UDP.createSocket("udp4");
const { getLocalIPv4 } = require("../utils/utils");

const port = 20777;
const hostname = getLocalIPv4();

const sampleEventLightsOutParsed = Buffer.from(
  JSON.stringify({
    m_header: {
      m_packetFormat: 2022,
      m_gameMajorVersion: 1,
      m_gameMinorVersion: 14,
      m_packetVersion: 1,
      m_packetId: 3,
      m_sessionUID: "1680487826192139260",
      m_sessionTime: 6.9323201179504395,
      m_frameIdentifier: 189,
      m_playerCarIndex: 19,
      m_secondaryPlayerCarIndex: 255,
    },
    m_eventStringCode: "LGOT",
    StartLightsOut: { LightsOut: 144 },
  })
);

const sampleEventStartSessionParsed = Buffer.from(
  `{"m_header":{"m_packetFormat":2022,"m_gameMajorVersion":1,"m_gameMinorVersion":17,"m_packetVersion":1,"m_packetId":3,"m_sessionUID":"5233449252380423286","m_sessionTime":0,"m_frameIdentifier":0,"m_playerCarIndex":19,"m_secondaryPlayerCarIndex":255},"m_eventStringCode":"SSTA"}`
);

const sampleEventEndSession = Buffer.from(
  `{"m_header":{"m_packetFormat":2022,"m_gameMajorVersion":1,"m_gameMinorVersion":17,"m_packetVersion":1,"m_packetId":3,"m_sessionUID":"12987182959256451076","m_sessionTime":0,"m_frameIdentifier":0,"m_playerCarIndex":19,"m_secondaryPlayerCarIndex":255},"m_eventStringCode":"SEND"}`
);

const sampleFinalClassificationParsed = Buffer.from(
  `{"m_header":{"m_packetFormat":2022,"m_gameMajorVersion":1,"m_gameMinorVersion":17,"m_packetVersion":1,"m_packetId":8,"m_sessionUID":"5233449252380423286","m_sessionTime":0,"m_frameIdentifier":0,"m_playerCarIndex":19,"m_secondaryPlayerCarIndex":255},"m_numCars":20,"m_classificationData":[{"m_position":6,"m_numLaps":29,"m_gridPosition":10,"m_points":8,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91749,"m_totalRaceTime":2710.302,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":3,"m_numLaps":29,"m_gridPosition":5,"m_points":15,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":90914,"m_totalRaceTime":2706.585,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":4,"m_numLaps":29,"m_gridPosition":6,"m_points":12,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":90909,"m_totalRaceTime":2707.4120000000003,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":15,"m_numLaps":29,"m_gridPosition":16,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":92252,"m_totalRaceTime":2725.288,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":19,"m_numLaps":29,"m_gridPosition":12,"m_points":0,"m_numPitStops":2,"m_resultStatus":3,"m_bestLapTimeInMS":91068,"m_totalRaceTime":2729.1330000000003,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":3,"m_tyreStintsActual":[17,17,18,0,0,0,0,0],"m_tyreStintsVisual":[17,17,18,0,0,0,0,0],"m_tyreStintsEndLaps":[8,17,255,0,0,0,0,0]},{"m_position":14,"m_numLaps":29,"m_gridPosition":15,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":92317,"m_totalRaceTime":2724.9790000000003,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":2,"m_numLaps":29,"m_gridPosition":8,"m_points":18,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91371,"m_totalRaceTime":2702.7290000000003,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":7,"m_numLaps":29,"m_gridPosition":4,"m_points":6,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91124,"m_totalRaceTime":2713.198,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":17,"m_numLaps":29,"m_gridPosition":9,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":92161,"m_totalRaceTime":2725.963,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":10,"m_numLaps":29,"m_gridPosition":14,"m_points":1,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91847,"m_totalRaceTime":2716.601,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":8,"m_numLaps":29,"m_gridPosition":3,"m_points":4,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91448,"m_totalRaceTime":2714.593,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":18,"m_numLaps":29,"m_gridPosition":17,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91930,"m_totalRaceTime":2727.843,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":11,"m_numLaps":29,"m_gridPosition":13,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91722,"m_totalRaceTime":2716.887,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":13,"m_numLaps":29,"m_gridPosition":11,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":92262,"m_totalRaceTime":2724.849,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":20,"m_numLaps":2,"m_gridPosition":19,"m_points":0,"m_numPitStops":0,"m_resultStatus":4,"m_bestLapTimeInMS":94597,"m_totalRaceTime":257.022,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":1,"m_tyreStintsActual":[17,0,0,0,0,0,0,0],"m_tyreStintsVisual":[17,0,0,0,0,0,0,0],"m_tyreStintsEndLaps":[255,0,0,0,0,0,0,0]},{"m_position":9,"m_numLaps":29,"m_gridPosition":7,"m_points":2,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":91914,"m_totalRaceTime":2716.061,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[12,255,0,0,0,0,0,0]},{"m_position":16,"m_numLaps":29,"m_gridPosition":18,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":92322,"m_totalRaceTime":2725.51,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[11,255,0,0,0,0,0,0]},{"m_position":1,"m_numLaps":29,"m_gridPosition":2,"m_points":26,"m_numPitStops":2,"m_resultStatus":3,"m_bestLapTimeInMS":87960,"m_totalRaceTime":2676.4210000000003,"m_penaltiesTime":3,"m_numPenalties":1,"m_numTyreStints":3,"m_tyreStintsActual":[18,17,16,0,0,0,0,0],"m_tyreStintsVisual":[18,17,16,0,0,0,0,0],"m_tyreStintsEndLaps":[14,24,255,0,0,0,0,0]},{"m_position":5,"m_numLaps":29,"m_gridPosition":20,"m_points":10,"m_numPitStops":2,"m_resultStatus":3,"m_bestLapTimeInMS":89120,"m_totalRaceTime":2705.632,"m_penaltiesTime":3,"m_numPenalties":1,"m_numTyreStints":3,"m_tyreStintsActual":[17,17,16,0,0,0,0,0],"m_tyreStintsVisual":[17,17,16,0,0,0,0,0],"m_tyreStintsEndLaps":[9,20,255,0,0,0,0,0]},{"m_position":12,"m_numLaps":29,"m_gridPosition":1,"m_points":0,"m_numPitStops":1,"m_resultStatus":3,"m_bestLapTimeInMS":90024,"m_totalRaceTime":2710.542,"m_penaltiesTime":9,"m_numPenalties":3,"m_numTyreStints":2,"m_tyreStintsActual":[17,18,0,0,0,0,0,0],"m_tyreStintsVisual":[17,18,0,0,0,0,0,0],"m_tyreStintsEndLaps":[9,255,0,0,0,0,0,0]},{"m_position":0,"m_numLaps":0,"m_gridPosition":0,"m_points":0,"m_numPitStops":0,"m_resultStatus":0,"m_bestLapTimeInMS":0,"m_totalRaceTime":0,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":0,"m_tyreStintsActual":[0,0,0,0,0,0,0,0],"m_tyreStintsVisual":[0,0,0,0,0,0,0,0],"m_tyreStintsEndLaps":[0,0,0,0,0,0,0,0]},{"m_position":0,"m_numLaps":0,"m_gridPosition":0,"m_points":0,"m_numPitStops":0,"m_resultStatus":0,"m_bestLapTimeInMS":0,"m_totalRaceTime":0,"m_penaltiesTime":0,"m_numPenalties":0,"m_numTyreStints":0,"m_tyreStintsActual":[0,0,0,0,0,0,0,0],"m_tyreStintsVisual":[0,0,0,0,0,0,0,0],"m_tyreStintsEndLaps":[0,0,0,0,0,0,0,0]}]}`
);

const sampleSessionParsed = Buffer.from(
  `{"m_header":{"m_packetFormat":2022,"m_gameMajorVersion":1,"m_gameMinorVersion":17,"m_packetVersion":1,"m_packetId":1,"m_sessionUID":"12987182959256451076","m_sessionTime":8.584559440612793,"m_frameIdentifier":0,"m_playerCarIndex":19,"m_secondaryPlayerCarIndex":255},"m_weather":0,"m_trackTemperature":30,"m_airTemperature":25,"m_totalLaps":1,"m_trackLength":5278,"m_sessionType":9,"m_trackId":14,"m_formula":0,"m_sessionTimeLeft":0,"m_sessionDuration":240,"m_pitSpeedLimit":80,"m_gamePaused":0,"m_isSpectating":0,"m_spectatorCarIndex":255,"m_sliProNativeSupport":0,"m_numMarshalZones":20,"m_marshalZones":[{"m_zoneStart":0.9965682029724121,"m_zoneFlag":0},{"m_zoneStart":0.06320234388113022,"m_zoneFlag":0},{"m_zoneStart":0.11122290045022964,"m_zoneFlag":0},{"m_zoneStart":0.15681192278862,"m_zoneFlag":0},{"m_zoneStart":0.19776169955730438,"m_zoneFlag":0},{"m_zoneStart":0.2377409040927887,"m_zoneFlag":0},{"m_zoneStart":0.31382015347480774,"m_zoneFlag":0},{"m_zoneStart":0.43326061964035034,"m_zoneFlag":0},{"m_zoneStart":0.497825026512146,"m_zoneFlag":0},{"m_zoneStart":0.547439694404602,"m_zoneFlag":0},{"m_zoneStart":0.6083540320396423,"m_zoneFlag":0},{"m_zoneStart":0.6880705952644348,"m_zoneFlag":0},{"m_zoneStart":0.7199399471282959,"m_zoneFlag":0},{"m_zoneStart":0.7721800208091736,"m_zoneFlag":0},{"m_zoneStart":0.8004105687141418,"m_zoneFlag":0},{"m_zoneStart":0.8236545920372009,"m_zoneFlag":0},{"m_zoneStart":0.8463946580886841,"m_zoneFlag":0},{"m_zoneStart":0.8684316873550415,"m_zoneFlag":0},{"m_zoneStart":0.9189296364784241,"m_zoneFlag":0},{"m_zoneStart":0.9684888124465942,"m_zoneFlag":0},{"m_zoneStart":0,"m_zoneFlag":0}],"m_safetyCarStatus":0,"m_networkGame":1,"m_numWeatherForecastSamples":10,"m_weatherForecastSamples":[{"m_sessionType":9,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":31,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":9,"m_timeOffset":5,"m_weather":0,"m_trackTemperature":31,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":9,"m_timeOffset":10,"m_weather":0,"m_trackTemperature":31,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":31,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":5,"m_weather":0,"m_trackTemperature":31,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":10,"m_weather":0,"m_trackTemperature":30,"m_trackTemperatureChange":1,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":15,"m_weather":0,"m_trackTemperature":30,"m_trackTemperatureChange":2,"m_airTemperature":25,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":30,"m_weather":0,"m_trackTemperature":30,"m_trackTemperatureChange":2,"m_airTemperature":24,"m_airTemperatureChange":1,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":45,"m_weather":0,"m_trackTemperature":30,"m_trackTemperatureChange":2,"m_airTemperature":24,"m_airTemperatureChange":2,"m_rainPercentage":4},{"m_sessionType":10,"m_timeOffset":60,"m_weather":0,"m_trackTemperature":29,"m_trackTemperatureChange":1,"m_airTemperature":24,"m_airTemperatureChange":2,"m_rainPercentage":3},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0},{"m_sessionType":0,"m_timeOffset":0,"m_weather":0,"m_trackTemperature":0,"m_trackTemperatureChange":0,"m_airTemperature":0,"m_airTemperatureChange":0,"m_rainPercentage":0}],"m_forecastAccuracy":0,"m_aiDifficulty":55,"m_seasonLinkIdentifier":1613707580,"m_weekendLinkIdentifier":1613707680,"m_sessionLinkIdentifier":1613707680,"m_pitStopWindowIdealLap":0,"m_pitStopWindowLatestLap":0,"m_pitStopRejoinPosition":0,"m_steeringAssist":0,"m_brakingAssist":0,"m_gearboxAssist":1,"m_pitAssist":1,"m_pitReleaseAssist":1,"m_ERSAssist":0,"m_DRSAssist":1,"m_dynamicRacingLine":2,"m_dynamicRacingLineType":1,"m_gameMode":7,"m_ruleSet":0,"m_timeOfDay":1080,"m_sessionLength":0}`
);

const sampleSessionHistoryParsed = Buffer.from(`{"SESSION HISTORY": {"m_header":{"m_packetFormat":2022,"m_gameMajorVersion":1,"m_gameMinorVersion":17,"m_packetVersion":1,"m_packetId":11,"m_sessionUID":"5233449252380423286","m_sessionTime":0,"m_frameIdentifier":0,"m_playerCarIndex":19,"m_secondaryPlayerCarIndex":255},"m_carIdx":19,"m_numLaps":30,"m_numTyreStints":2,"m_bestLapTimeLapNum":3,"m_bestSector1LapNum":3,"m_bestSector2LapNum":24,"m_bestSector3LapNum":3,"m_lapHistoryData":[{"m_lapTimeInMS":95372,"m_sector1TimeInMS":22888,"m_sector2TimeInMS":38698,"m_sector3TimeInMS":33785,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90080,"m_sector1TimeInMS":18735,"m_sector2TimeInMS":37512,"m_sector3TimeInMS":33832,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90024,"m_sector1TimeInMS":18658,"m_sector2TimeInMS":37927,"m_sector3TimeInMS":33438,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91965,"m_sector1TimeInMS":18750,"m_sector2TimeInMS":38642,"m_sector3TimeInMS":34571,"m_lapValidBitFlags":15},{"m_lapTimeInMS":94557,"m_sector1TimeInMS":18813,"m_sector2TimeInMS":38104,"m_sector3TimeInMS":37639,"m_lapValidBitFlags":15},{"m_lapTimeInMS":96641,"m_sector1TimeInMS":21510,"m_sector2TimeInMS":39653,"m_sector3TimeInMS":35478,"m_lapValidBitFlags":15},{"m_lapTimeInMS":96136,"m_sector1TimeInMS":22222,"m_sector2TimeInMS":39460,"m_sector3TimeInMS":34453,"m_lapValidBitFlags":15},{"m_lapTimeInMS":92276,"m_sector1TimeInMS":18912,"m_sector2TimeInMS":38997,"m_sector3TimeInMS":34366,"m_lapValidBitFlags":15},{"m_lapTimeInMS":92852,"m_sector1TimeInMS":19290,"m_sector2TimeInMS":38595,"m_sector3TimeInMS":34966,"m_lapValidBitFlags":15},{"m_lapTimeInMS":96077,"m_sector1TimeInMS":19093,"m_sector2TimeInMS":39224,"m_sector3TimeInMS":37758,"m_lapValidBitFlags":15},{"m_lapTimeInMS":109162,"m_sector1TimeInMS":37086,"m_sector2TimeInMS":37830,"m_sector3TimeInMS":34245,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91137,"m_sector1TimeInMS":19084,"m_sector2TimeInMS":38427,"m_sector3TimeInMS":33624,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90903,"m_sector1TimeInMS":18941,"m_sector2TimeInMS":37659,"m_sector3TimeInMS":34302,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90432,"m_sector1TimeInMS":18810,"m_sector2TimeInMS":37872,"m_sector3TimeInMS":33749,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90553,"m_sector1TimeInMS":18802,"m_sector2TimeInMS":37852,"m_sector3TimeInMS":33899,"m_lapValidBitFlags":15},{"m_lapTimeInMS":94754,"m_sector1TimeInMS":22577,"m_sector2TimeInMS":38527,"m_sector3TimeInMS":33649,"m_lapValidBitFlags":15},{"m_lapTimeInMS":94075,"m_sector1TimeInMS":18855,"m_sector2TimeInMS":38113,"m_sector3TimeInMS":37106,"m_lapValidBitFlags":15},{"m_lapTimeInMS":95975,"m_sector1TimeInMS":22545,"m_sector2TimeInMS":39306,"m_sector3TimeInMS":34123,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91724,"m_sector1TimeInMS":19366,"m_sector2TimeInMS":38715,"m_sector3TimeInMS":33643,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90711,"m_sector1TimeInMS":19037,"m_sector2TimeInMS":37841,"m_sector3TimeInMS":33832,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90835,"m_sector1TimeInMS":19161,"m_sector2TimeInMS":37952,"m_sector3TimeInMS":33721,"m_lapValidBitFlags":15},{"m_lapTimeInMS":92021,"m_sector1TimeInMS":19478,"m_sector2TimeInMS":38444,"m_sector3TimeInMS":34097,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91026,"m_sector1TimeInMS":19036,"m_sector2TimeInMS":38290,"m_sector3TimeInMS":33699,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90952,"m_sector1TimeInMS":18955,"m_sector2TimeInMS":37429,"m_sector3TimeInMS":34566,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91943,"m_sector1TimeInMS":19699,"m_sector2TimeInMS":37699,"m_sector3TimeInMS":34543,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91067,"m_sector1TimeInMS":18886,"m_sector2TimeInMS":38199,"m_sector3TimeInMS":33981,"m_lapValidBitFlags":15},{"m_lapTimeInMS":91535,"m_sector1TimeInMS":18937,"m_sector2TimeInMS":38788,"m_sector3TimeInMS":33810,"m_lapValidBitFlags":15},{"m_lapTimeInMS":90475,"m_sector1TimeInMS":18841,"m_sector2TimeInMS":37892,"m_sector3TimeInMS":33742,"m_lapValidBitFlags":15},{"m_lapTimeInMS":105268,"m_sector1TimeInMS":22459,"m_sector2TimeInMS":43852,"m_sector3TimeInMS":38956,"m_lapValidBitFlags":15},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":15},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0},{"m_lapTimeInMS":0,"m_sector1TimeInMS":0,"m_sector2TimeInMS":0,"m_sector3TimeInMS":0,"m_lapValidBitFlags":0}],"m_tyreStintsHistoryData":[{"m_endLap":9,"m_tyreActualCompound":17,"m_tyreVisualCompound":17},{"m_endLap":255,"m_tyreActualCompound":18,"m_tyreVisualCompound":18},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0},{"m_endLap":0,"m_tyreActualCompound":0,"m_tyreVisualCompound":0}]}}`);

let sendPacket = sampleSessionParsed;

client.send(sampleEventStartSessionParsed, port, hostname, (err) => {
  if (err) {
    console.error("Failed to send packet`!");
  }
  client.close();
});

client.send(sampleSessionParsed, port, hostname, (err) => {
  if (err) {
    console.error("Failed to send packet`!");
  }
  client.close();
});

client.send(sampleFinalClassificationParsed, port, hostname, (err) => {
  if (err) {
    console.error("Failed to send packet`!");
  }
  client.close();
});

client.send(sampleSessionHistoryParsed, port, hostname, (err) => {
  if (err) {
    console.error("Failed to send packet`!");
  }

  console.log('Packet sent');
  client.close();
});

// Check if any message is received
client.on("message", (message, info) => {
  console.log(
    `Address: ${info.address}, Port: ${info.port}, Size: ${info.size}`
  );

  //read message from server
  console.log("Message from server", message.toString());
});
